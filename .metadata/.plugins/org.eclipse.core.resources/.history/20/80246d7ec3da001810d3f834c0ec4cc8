package comp20010_tutorial_1;

//package snippets;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

/**
 * @version 1.0 September 2017
 * 
 * @author Aonghus Lawlor
 * @student Jonathan Schwartz
 */
public class ScoreBoard {
	private int maxEntries;
	private int numEntries; // number of actual entries
	private GameEntry[] board; // array of game entries (name and scores)

	public ScoreBoard(int capacity) {
		maxEntries = capacity;
		numEntries = 0;
		
		for (int i=0; i<capacity; i++) {
			board[i] = new GameEntry("a", 0);
		}
	}

	/** Attempts to add a new score to the collection (if it is high enough). */
	public void add(GameEntry e) {
		if (e.getScore < maxEntries) //fix this
		{
			board[numEntries] = e;
			numEntries++;
		}
	}

	/** Attempts to remove an existing score from the collection */
	public GameEntry remove(int i) throws IndexOutOfBoundsException {
		GameEntry output = board[0];
		if (i <= numEntries)
		{
			output = board[i-1];
			
			for (int a = i; a<numEntries; a++) {
				board[i-1] = board[i];
			}
			
			board[i+1]= new GameEntry("", -1);
			numEntries--;
		}
		else {
			throw new IndexOutOfBoundsException();
		}
		
		return output;
	}

	public String toString() {
		for (int i=0; i<numEntries; i++) {
			System.out.println(board[i]);
		}
	}

	public static void main(String[] args) {
		System.out.println("Running!");
		// TODO
		// create a new scoreboard
		ScoreBoard pizza = new ScoreBoard(100); //set max scoreboard size here

		File file = new File("scores.txt");
		try {
			Scanner scanner = new Scanner(file);
			int counter = 0;
			while (scanner.hasNext()) {
				String line = scanner.nextLine();
				Scanner lineReader = new Scanner(line).useDelimiter(",\\s?+"); // comma followed by any number of spaces
				String name = lineReader.next();
				int score_input = lineReader.nextInt();
				pizza.add(GameEntry(name, score_input));
				
				
				// TODO
				// read the name and score
				// create the GameEntry object
				// add to scoreboard
				lineReader.close();
			}
			scanner.close();
			
			// TODO: print out the scoreboard
		} catch (FileNotFoundException e) {
			// TODO: 
		}
	}

}
